### devops-10 student

### HW-5.3. Контейнеризация на примере Docker
---
1.<br>
    - **Высоконагруженное монолитное java веб-приложение**  <br>
		 Использование докера в этом случае, на мой взгляд, нецелесообразно, т.к. использование докера, создаст дополнительный слой абстракции, который будет потреблять дополнительные ресурсы на хостовой машине. Также в этом случае нивелируется преимущество масштабирования контейнеров, т.к. монолитное приложение можно масштабировать только целиком. Т.о. предпочтительнее использовать программную или аппаратную виртуализаци, которая позволит масштабировать приложение, поставив перед виртуальным машинами балансировщик. <br>
    * **Go-микросервис для генерации отчетов**<br>
    	Использование докера для микросервисов является предпочтительным решением, т.к. есть возможность реализовать все преимущества технологии: решение проблемы с зависимостями, масштабирование.<br>
    * **Nodejs веб-приложение**<br>
    	Использование докера для микросервисов является предпочтительным решением, т.к. есть возможность реализовать все преимущества технологии: решение проблемы с зависимостями, масштабирование.<br>
    * **Мобильное приложение c версиями для Android и iOS**<br>
    	Не совсем понял вопрос, если речь идет о бекенде мобильного приложения, то технология докера применима, если же о приложении, установленном непосредственно на устройствах, то, на мой взгляд, контейнеризация тут не поддерживается.<br>
    * **База данных postgresql используемая, как кэш**<br>
    	Да, использование технологии docker для этого случая допустимо, т.к. в этом случае первый запрос по ключу будет выполняться долго, однако все следующие запросы по этому же ключу будут выполняться значительнее быстрее. И количество экземпляров базы данных можно менять, исходя из текущих потребностей.<br>
    * **Шина данных на базе Apache Kafka**<br>
    	Да, использование технологии докера в этом случае также допустимо, но, для того, чтобы получать возможность использовать преимущества масштабирования требуется поддержка на уровне программного кода.<br>
    * **Очередь для Logstash на базе Redis**<br>
    	Полагаю, что использование докера возможно и опрадано, т.к. это in-memory база данных, то тут такие же предпосылки к использованию, как и в случае кэша, построенного на postgresql.
    * **Elastic stack для реализации логирования продуктивного веб-приложения - три ноды elasticsearch, два logstash и две ноды kibana**<br>
    	Да, для этого случая использование докера предпочтительнее, т.к. мы получаем гибкость автоматического или ручного масштабирования в случае подключения нового поставщика логов или в случае изменения уровня логирования на более детальный для отладки исключительных ситуаций
    * **Мониторинг-стек на базе prometheus и grafana**<br>
    	Тут похожая ситуация с предыдущим примером, т.е. предпочтительнее использовать докер, для возможностей масштабирования в случае увеличения количества экспортеров prometheus или увеличения нагрузки на grafana, связанной с увеличением пользователей, увеличением количества метрик. <br>
    * **Mongodb, как основное хранилище данных для java-приложения**<br>
    	На мой взгляд, в этом случае контейнеризация является неоптимальным решением, т.к. не очевидно, как воспользоваться преимуществами докера, но появляются дополнительные точки отказа, связанные с уровнями абстракции.<br>
    * **Jenkins-сервер**<br>
    	Полагаю, что использование докера в этом случае оправдано, т.к. позволяет выстроить pipeline ci/cd и масштабироваться, в зависимости от возникающих задач.<br>

2.<br>
[dockerhub.href](https://hub.docker.com/repository/docker/vinnirus/my_httpd) <br>

 3.<br>
* Запустил первый контейнер из образа centos c любым тэгом в фоновом режиме, подключив папку info из текущей рабочей директории на хостовой машине в /share/info контейнера;<br>
```
parallels@ubuntu-linux-20-04-desktop:~$ docker run -d --name my_centos -v "$(pwd)"/info:/share/info centos:8
```
* Запустите второй контейнер из образа debian:latest в фоновом режиме, подключив папку info из текущей рабочей директории на хостовой машине в /info контейнера;<br>
```
parallels@ubuntu-linux-20-04-desktop:~$ docker run -d --name my_debian -v "$(pwd)"/info:/info debian:latest
```
* Подключитесь к первому контейнеру с помощью exec и создайте текстовый файл любого содержания в /share/info ;<br>
`parallels@ubuntu-linux-20-04-desktop:~$ docker exec -it my_centos /bin/bash`
`[root@e2c241ffda92 /]# echo "first line from centos" > /share/info/data_file.txt`
`[root@e2c241ffda92 /]# cat /share/info/data_file.txt`
`first line from centos`
* Добавьте еще один файл в папку info на хостовой машине;<br>
`parallels@ubuntu-linux-20-04-desktop:~$ echo 'first line from host machine' > ~/info/host_file.txt`
* Подключитесь во второй контейнер и отобразите листинг и содержание файлов в /info контейнера.
`parallels@ubuntu-linux-20-04-desktop:~$ docker exec -it my_debian /bin/bash`
`root@1cd5202e23ed:/# ls /info`
`data_file.txt  host_file.txt`
`root@1cd5202e23ed:/# cat /info/data_file.txt`
`first line from centos`
`root@1cd5202e23ed:/# cat /info/host_file.txt`
`first line from host machine`
